import React, { useContext } from 'react'
import Head from 'next/head'

//context
import Navbar from '../../../components/landingpage/Navbar'
import { AuthContext } from '../../../store/authcontext'
import Updateprofile from '../../../components/dashboard/userdash/updateprofile'


function Updateuser({params }) {
    const {authState}= useContext(AuthContext)
    if(authState.user&& authState.user?.userId == params){
        return (
          <div >
          <Head>
            <title>فروشگاه ||  ویرایش حساب  </title>
            <meta name="description" content="Generated by create next app" />
            <link rel="icon" href="/favicon.ico" />
          </Head>
        <header>
      <Navbar />
        </header>
        <main>
      <Updateprofile />
        </main>
        </div>
     )
    }else{
        return(
            <p>شما اجازه دسترسی ندارید . </p>
        )
    }
  }

export const getServerSideProps = (context)=>{
    const {params} = context.params
    return{
        props:{
          params,
        }
    }
}

export default Updateuser